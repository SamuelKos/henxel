				
					
	.----------------------------------------------------.
	|Below this, it is expected one started editor with: |
	|													 |
	|	import henxel 									 |
	|	e=henxel.Editor()								 |
	|													 |
	|This is then referenced like:						 |
	|	e.print_bookmarks()								 |
	*----------------------------------------------------*
	
	
	When is my file Saved to Disk?
	
		All tabs are saved to disk when:
		  - closing program, also configurations
		  - running file
		
		Current tab is saved to disk when:
		  - closing tab, if it had filename.
			New tabs get filename by pressing save.
		  
		  - opening file from disk when there already was another file opened
			in tab.
		
		Otherwise, changes are saved in memory
		
		This means that if you want to cancel all changes:
		  - do not run file
		  - do not close editor
		  - do not close tab with a filename
		  - do not open file in a tab which has already a file opened
		  
		  - instead close python-console with ctrl-d
		
	
	Editor
	  - Editor configuration is related to python-environment (sys.prefix)
		in which python console was launched. So if you have say two
		different envs in the same directory, they will have separate confs.
		
	  - If editor was not launched from virtual environment,
		configuration is saved in home-directory. This means editor
		can also be used in 'normal' python environment.
		
	  - If editor was launched inside a directory what is being
		version-controlled with git, the current git-branch will be shown
		in top-left corner. (info on setting other version control program
		is below )
		
	  - If you do something in python-console that waits for user input,
		Editor will be freezed during that time, like when viewing help
		of some function.
		
	  
	Save-button
	  - To create a new file, add filename to entry and press save.
	  	This creates an empty file like 'touch'. This is done to
		ensure filepath is ok. Contents will be saved to disk in
		above mentioned situations.
	  
	  - If a file was already open and user changed filename in entry,
		old file is first saved (but not to disk) and then new file with
		same content is created in a new tab (its contents are not yet in disk).
	  
	  - Pressing save in tab which exists in disk does not do anything.
	  - Contents of tabs without filename are not saved when closing tab,
		or program, but tabs are still kept as placeholders.
			
		
	Open-button
	  - When in tab without filename, files can be opened from entry
		or by pressing button.
	  
	  - If tab had filename and user changed filename in entry and
		user presses enter: old file is first saved to disk and closed,
		then filepath in entry is opened in the same tab.
		
	  - If entered filename in entry and pressed open, entry is ignored.
	
	  - Files from disk are always opened into current tab,
	  	old file is saved and closed but bookmarks are gone
	  	--> When planning opening new file from disk,
			check is current tab something one wants to keep open,
			or does it have important bookmarks.
			If is, then open new tab first, and then open file to it.
			
	  - It is good practise to always: open newtab, open file

	
	Selection
	  - Long selection: if cursor is not visible,
		to show wanted side of selection, toggle left/right -keys


	Bookmarks
	  - Are very useful
	  - Create/remove bookmark with Cmd/Alt-p
	  - Hide bookmarks with Cmd/Alt-u (if have too many, so it is easier
		to navigate. They can be restored later)
		
		To remove single hided bookmark, first check linenumber with:
		1: e.print_bookmarks(True) --> Show also hided bookmarks
		2: Goto that line with stashed bookmark
		3: bookmark: Cmd/Alt-p on that line, this removes hided bookmark
		4: and if not want leave this new bookmark, again: Cmd/Alt-p
		
	  - Walk bookmarks with Cmd/Alt-bB
	  - Can also be created while searching:
		Easy: Press Cmd/Alt-p to bookmark match with focus
		Or You can scroll, Goto def etc, and when find something interesting
		Click there and Press Cmd/Alt-p to bookmark that position
		
	  - Are saved in configuration. Note: currently only open files can have
		bookmarks. When tab is closed its bookmarks are gone, but editor will
		ask for confirmation before you close tab with bookmarks
		
	  - There is no shortcuts for:
		e.remove_bookmarks() --> from current tab
		e.remove_bookmarks(all_tabs=True) --> from all tabs
		e.print_bookmarks() of current tab
		e.print_bookmarks(show_stashed=True) --> Show also hided bookmarks
		
		With this one can save bookmarks if need for example; close tab
		but want to keep record of its bookmarks, just note that
		overwriting to same file multiple times will delete old bookmarks
		in that file. This will save also stashed bookmarks
		e.export_bookmarks()

		e.import_bookmarks() --> update (add not already existing),
			update opened tabs bookmarks from file
		e.unstash_bookmarks() --> restore hided bookmarks to tab
		e.unstash_bookmarks(all_tabs=True) --> to all tabs


	Goto definition
	  - Of function in current tab with Cmd/Alt-g
		when cursor is at or in between: self.w<INS>alk_scope<INS>
		(or if there is selection, uses it)
	  - Can be done also while searching,
		just press arrow-key or Ctrl-np to get back to matches,
		because esc will exit search
	  - Bookmarks can be created while doing goto def
	  - Esc: exit to cursor position at the start of search/gotodef
	  - Space: exit to definition line
	  - One can also select function of interest while searching,
		other than on match, and press Alt-g to get there.
		Or just click the function name, then press Alt-g
		
	
	Set editor size and position
	  - help(e.use_geometry)
	  - Editor is normally using default size and positioned on top-right corner
	  - One can choose to let window manager do everything with:
		  e.use_geometry(False)
		
	  - Restore default setting:
		  e.use_geometry('default')
		
	  - Save current geometry:
		  e.use_geometry('current')
		
	  - Get current(and efective) setting
		  e.geometry() or
		  e.wm_geometry()
		
	  - Change position (to top-left corner)
		(note using of geometry instead of use_geometry, this is for
		some reasons. One can play with this, and once happy give full
		geometry_string as in Usage Example below)
		  e.geometry('+0+0')
		
	  - Change size
		(note using of geometry instead of use_geometry.
		One can play with this, and once happy, give full geometry_string
		as shown below in: Change size and position)
		  e.geometry('881x600')
		
	  - Change size and position
		  e.use_geometry('881x600+0+50')
		  This setting will then be used at next startup onwards.		
	  
	  Usage Example
	  Drag editor-window to place one likes. Resize it to size one wants.
	  Then call: e.use_geometry('current')

	
	Check syntax at exit
	  Should syntax of open py-files be checked at exit?
	  e.check_syntax_on_exit()
	
	  - Without arguments, return current setting
	  - 1: do check
	  - 0: no check (default)
	
	  Note: Every time doing run,
	  syntax of all py-files of project, open or not, is checked
	  
	  If just want to check syntax of open py-files, independent of setting:
	  e.save_forced() --> True if no saving errors
	  e.tab_has_syntax_error() --> False if no syntax errors

	
	Set command to fetch current version control branch
	  - By default if using git, nothing needs to be done	
	  - Command must be given as list. Command is tried before
		setting. You can split command string to list with split,
		or use shlex-modules split.
	
		Example, default commands splitting:
		  cmd_as_list = 'git branch --show-current'.split()
		Then:
		  e.set_version_control_cmd(cmd_as_list)

	  - On success, the new command is saved in configuration
	
	
	Tab-completion
	  - When starting to write object-name that has already been used
		somewhere in contents like:
		
			self.at
		
		then when hitting TAB, editor searches all matches in contents which
		starts with self.at and shows them one by one when pressing again TAB
		until all matches have been showed.
			
			self.attribute1
			
		If expansion got too long, one can delete to previous dot with:
			self.attribute1.extra<INS>
			--> Cmd/Alt-BackSpace
			--> self.attribute1.
			
	  - Only single 's' is needed to expand to: self. 

	
	Inspecting modules
	  - Just write the name of the module, like tkinter.font in the editor,
		select it and choose 'open mod' from popup-menu. Then search.
				
	
	Elide
	  - Eliding is work-in-progress, it works but is not fully implemented:
		For example, searching, gotoing is not done. Nested eliding, not done.
		And is not preserved.
	
	
	Search and Replace
		
		Resources:
			e.print_search_help()
			e.print_search_setting()
			e.reset_search_setting()
			help(e.edit_search_setting)
			e.edit_search_setting()
			https://www.tcl.tk/man/tcl9.0/TkCmd/text.html#M147
			https://www.tcl.tk/man/tcl9.0/TclCmd/re_syntax.html
			https://www.tcl.tk/man/tcl9.0/TclCmd/regexp.html
		
		
	  - Good news is, most of the time one does not need these.
	  - When does, it most likely is:
			
			e.edit_search_setting('-start insert')
		
		This changes searching to start from insertion cursor
		
		If that wont help, below is couple more examples
	
	
	SUBSTITUTION WITH REGEXP
		
	  - Example 1 Begin
		If contents of tab is
		
		Example: 121 212
		
		Example: 121 212
		
		Example: 121 212
		
		
		And there is "-regexp" in search_setting, and doing replace
		
		Then if search_word(old_word) would be
		"(\d+) (\d+)"
		And if substitution(new_word) would be
		"\2 \1"
		
		Result after replacing would then be
		Example: 212 121
		
		Example: 212 121
		
		Example: 212 121
		
		Example 1 End


		Example 2 Begin
		Adding space to end of substitution using:
		search_word + () ==empty string
		
		If search_word(old_word) is "A", add empty string after it:
			"A()"
		
		If want to add for example: " BB " after search_word,
		Then use as substitution(new_word): 
			"\0 BB \1"
			
		where \0 is whole matched string and \1 is the empty string.
		"&" can be used inplace of "\0"
		
		Result
		--> "A BB "
		
		Example 2 End

		
		Some more info, examples below are search_word(old_word)
			Adding to linestart: "^"
			Adding to lineend: "$"
			Concatenate lines: "\n+"

	
	Set left margin
	  A: Set total distance from left edge of editor window to start of text
	  for normal window, and possible separate width for fullscreen.
	  Recommended to use same margin for both, but they can be different
	  if for example want 'centered view' in fullscreen view.
	  Without arguments, prints current setting.

	  - reset both to defaults
		e.set_left_margin(0)

	  - reset only margin of normal window
		e.set_left_margin(0, e.margin_fullscreen)
		
	  Examples
	  - set different margin for normal window and fullscreen
		e.set_left_margin(10, 20)
		
	  - set same margin for normal window and fullscreen
		e.set_left_margin(10)
		
	  - change only margin for normal window (to 10)
		e.set_left_margin(10, e.margin_fullscreen)
		
	  - change only margin for fullscreen window (to 20)
		e.set_left_margin(e.margin, 20)
		
		
	  B: Set distance(length of empty space) from linenumbers to start of text,
	  for normal window, and possible separate width for fullscreen.

	  This does not change total distance of left_margin. After using this, one
	  can increase lenght of total margin, with set_left_margin, if necessary.
	  Without arguments, prints current setting.

	  - Reset both to defaults:
	    set_left_margin_gap(0)

	  - Reset only gap of normal window:
	    set_left_margin_gap(0, self.gap_fullscreen)

	  distance can be int --> pixels
	  or string like 1c --> note, this adds much space

	  Example: set_left_margin_gap(10, '2c')

	
	Set scrollbar width
	  - e.set_scrollbar_widths(width, elementborderwidth)
	
	
	Change tabsize
		Size can be 1-8, default is 4
		
		Change size for all files:
	  - e.change_tabsize(8)
		
		For code-snippet:
	  - If you copied something to your editor that has different indentation
		than rest of the file:
		(Note that you don't have to do anything if it is indented with normal
		4 spaces and you have indent-depth the normal 4 )
		1: Make sure you copied the block starting with one empty line.
		2: Click cursor to start of empty line and paste.
		
		Then select that code and press Ctrl-t, and
		it should then be indented as you wanted and you can then continue
		indenting the pasted code to the right place.
		
		(Note that you don't have to do anything if you open a file that has
		different indentation than your setting, it is changed automatically
		and saved with tabbed indentation after you for example close it.)
	
	
	Export configuration	
	  - If wanting to use current configuration on many environments,
		it can be exported with e.export_config(). It sets e.geom to False
		so one must do: e.use_geometry('default') after first launch with
		that conf. It also does not have any tabs or bookmarks etc.
		Name of conf-file has to be 'henxel.cnf' and it has to be in
		python env-directory, when in use.
		
		For example: One has nice working conf in some project and thinks
		about using it as default for some new projects: 1: e.export_config
		2: Start new project 3: cd mynew_project/my_python_venv_folder
		4: cp path_to_exported_conf . 5: launch henxel
	
	
	Execute part of the code from editor in Python-console
	  - Remember to put import-lines before the desired code-blocks. Then
		just select whole thing, copy and paste to console. You may have
		to press Return before last block executes. This is very useful,
		compared to writing all that in console is much more difficult.
		You might need to reduce indentation.
	
	
	Running file
	  - input from stdin does not work, so use test-data for that.
	  
	  - Editor freezes when running a program. So if you are testing
		for possible runtime-errors, keep that in mind. You should
		be able to terminate your program with ctrl-c from python-console.
	
	  - If you know where in your code that runtime-error occurs, put
		breakpoint() there, exit editor and python-console and run
		from terminal:
		
		python program_with_error.py
		
		and it will exit to python debugger after your breakpoint.
		

	Developing
	  - To automate exit editor, check syntax, reopen python and editor
		start editor with: e=henxel.Editor(debug=True)
		
		Then Cmd-q will do syntax checking on all python-files in package
		and test-launch. This can also be done from popup-menu: test
	  
	  - If wanting to start editor using new code, from popup-menu: restart
		Test-launch is then not done.
		
	  - Editor can be closed by pressing close button
	
	  - If editor did not launch, error message and info about recovering is printed
		See: help(henxel.stash_pop)
	
	  - Currently there is restart-script only for MacOS
	
	  - More info is in function: e.build_launch_test
	
	
	Homepage: https://github.com/SamuelKos/henxel
	
	
